(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{121:function(t,e,n){},122:function(t,e,n){"use strict";n.r(e);var a=n(1),c=n(0),r=n(21),o=n.n(r),i=n(22),u=n(15),s=n(16),b=n(18),l=n(17),j=n(6),h=n(11),f=n.n(h),O=n(3),p=Object(O.b)("contacts/filter"),d=Object(O.b)("contacts/itemsRequest"),m=Object(O.b)("contacts/itemsSuccess"),g=Object(O.b)("contacts/itemsError"),v=Object(O.b)("contacts/addItemRequest"),x=Object(O.b)("contacts/addItemSuccess"),_=Object(O.b)("contacts/addItemError"),w=Object(O.b)("contacts/deleteRequest"),C=Object(O.b)("contacts/deleteSuccess"),S=Object(O.b)("contacts/deleteError"),A=function(t){return function(e){e(v()),f.a.post("/contacts",t).then((function(t){var n=t.data;return e(x(n))})).catch((function(t){return e(_(t.message))}))}},y=Object(O.b)("user/singUpRequest"),k=Object(O.b)("user/singUpSuccess"),N=Object(O.b)("user/singUpError"),L=Object(O.b)("user/loginRequest"),R=Object(O.b)("user/loginSuccess"),T=Object(O.b)("user/loginError"),z=Object(O.b)("user/isAuthorizedRequest"),E=Object(O.b)("user/isAuthorizedSuccess"),F=Object(O.b)("user/isAuthorizedError"),D=Object(O.b)("user/logoutRequest"),U=Object(O.b)("user/logoutSuccess"),I=Object(O.b)("user/logoutError"),q=Object(O.b)("user/currentUserRequest"),P=Object(O.b)("user/currentUserSuccess"),H=Object(O.b)("user/currentUserError"),J=function(t){return f.a.defaults.headers.Authorization=t,console.log(t),console.log("axios",f.a.defaults.headers.Authorization),t},M=function(){return f.a.defaults.headers.Authorization="",""},G=function(t){return t.contacts.items},Q=function(t){return t.contacts.filter},B=function(t){return t.contacts.loading},X=function(t){return G(t).filter((function(e){return e.name?e.name.toLowerCase().includes(Q(t).toLocaleLowerCase()):[]}))},Z=function(t){return t.user.email},K=function(t){return t.user.token},V=function(t){return t.user.isAuthorized},W=n(10),Y=n(2),$=n(125),tt=n(53),et=n.n(tt);var nt=function(t){var e=t.text,n=t.props;return Object(a.jsx)("button",Object(W.a)(Object(W.a)({className:et.a.button,type:"submit"},n),{},{children:e}))},at=n(29),ct=n.n(at);var rt=function(t){var e=t.label,n=t.name,c=void 0===n?e.toLowerCase():n,r=t.value,o=t.onChange,i=t.autoComplete,u=void 0===i?null:i,s=t.type,b=void 0===s?"text":s,l=t.props;return Object(a.jsxs)("div",{className:ct.a.container,children:[Object(a.jsx)("input",Object(W.a)({id:e,className:ct.a.input,type:b,name:c,value:r,onChange:o,autoComplete:u,placeholder:" "},l)),Object(a.jsx)("label",{htmlFor:e,className:ct.a.label,children:e})]})},ot=n(54),it=n.n(ot),ut=n(124),st=n(55),bt=n.n(st),lt=n(56),jt=n.n(lt),ht=function(t){return function(e){return Object(a.jsx)(ut.a,Object(W.a)(Object(W.a)({in:!0,appear:!!e.appear,timeout:e.timeout||250,classNames:e.rightTransition?jt.a:bt.a,unmountOnExit:!0},e),{},{children:Object(a.jsx)(t,Object(W.a)(Object(W.a)({},e),{},{children:c.Children}))}))}};var ft=ht((function(t){var e=t.text,n=void 0===e?"Something gone wrong":e;return Object(a.jsx)("div",{className:it.a.container,children:Object(a.jsx)("p",{children:n})})})),Ot=n(57),pt=n.n(Ot),dt={name:"",number:"",isShowNotification:!1},mt=function(t){Object(b.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:"",isShowNotification:!1},t.handleChange=function(e){var n=e.target,a=n.name,c=n.value;t.setState(Object(Y.a)({},a,c))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,a=n.name,c=n.number,r=t.props.contacts;if(!a||r.find((function(t){return t.name===a})))return t.setState({isShowNotification:!0}),setTimeout((function(){t.setState({isShowNotification:!1})}),2e3);t.props.onSetContacts({id:Object($.a)(),name:a,number:c}),t.reset()},t.reset=function(){t.setState(Object(W.a)(Object(W.a)({},t.state),dt))},t}return Object(s.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,c=t.isShowNotification,r=e?"".concat(e," is already in contacts."):"Please enter the contact name.";return Object(a.jsxs)("form",{onSubmit:this.handleSubmit,className:pt.a.container,children:[Object(a.jsx)(ft,{in:c,text:r,rightTransition:!0}),Object(a.jsx)(rt,{label:"Name",value:e,onChange:this.handleChange}),Object(a.jsx)(rt,{label:"Number",value:n,onChange:this.handleChange}),Object(a.jsx)(nt,{text:"Add contact"})]})}}]),n}(c.Component),gt={onSetContacts:A},vt=Object(j.b)((function(t){return{contacts:G(t)}}),gt)(mt),xt=n(126),_t=n(58),wt=n.n(_t);var Ct=function(t){var e=t.onClick;return Object(a.jsx)("button",{className:wt.a.button,onClick:e})},St=n(59),At=n.n(St);var yt=ht((function(t){var e=t.contact,n=t.onDeleteContacts,c=e.id,r=e.name,o=e.number;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("li",{className:At.a.item,children:["".concat(r,": ").concat(o),Object(a.jsx)(Ct,{onClick:function(){return n(c)}})]})})})})),kt=n(60),Nt=n.n(kt),Lt=function(t){Object(b.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={isShow:!1},t.handleShow=function(){var e=t.props.contacts,n=t.state.isShow;e[0]&&!n&&t.setState({isShow:!0})},t}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.handleShow()}},{key:"componentDidUpdate",value:function(){this.handleShow()}},{key:"render",value:function(){var t=this.props,e=t.contacts,n=t.onDeleteContacts,c=this.state.isShow;return Object(a.jsx)(a.Fragment,{children:c&&Object(a.jsx)(xt.a,{component:"ul",className:Nt.a.container,children:e.map((function(t){return Object(a.jsx)(yt,{contact:t,onDeleteContacts:n},t.id)}))})})}}]),n}(c.Component),Rt={onDeleteContacts:function(t){return function(e){e(w()),f.a.delete("/contacts/".concat(t)).then(e(C(t))).catch((function(t){return e(S(t.message))}))}}},Tt=Object(j.b)((function(t){return{contacts:X(t)}}),Rt)(Lt),zt=n(61),Et=n.n(zt),Ft=function(t){return function(e){return Object(a.jsx)(ut.a,{in:e.isShow,timeout:250,classNames:Et.a,unmountOnExit:!0,children:Object(a.jsx)(t,Object(W.a)({},e))})}};Ft.defaultProps={isShow:!0};var Dt=Ft,Ut=n(62),It=n.n(Ut);function qt(t){var e=t.filter,n=t.onChange;return Object(a.jsx)("div",{className:It.a.container,children:Object(a.jsx)(rt,{label:"Find contacts by name",name:"filter",value:e,onChange:function(t){var e=t.target;return n(e.value)},autoComplete:"off"})})}var Pt={onChange:p},Ht=Object(j.b)((function(t,e){return{filter:Q(t)}}),Pt)(Dt(qt));qt.defaultProps={filter:""};var Jt=Ht,Mt=n(63),Gt=n.n(Mt);var Qt=ht((function(){return Object(a.jsx)("h1",{className:Gt.a.color,children:"Phonebook"})})),Bt=n(64),Xt=n.n(Bt),Zt=function(t){Object(b.a)(n,t);var e=Object(l.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var t=this.props,e=t.token,n=(t.isAuthorized,t.fetchContacts),a=t.fetchCurrentUser;e&&(J(e),a()),n()}},{key:"render",value:function(){var t=this.props,e=t.contacts,n=t.loading;return Object(a.jsxs)("div",{className:Xt.a.container,children:[Object(a.jsx)(Qt,{appear:!0,timeout:500}),Object(a.jsx)(vt,{}),Object(a.jsx)("h2",{children:"Contacts"}),e.length>0&&Object(a.jsx)(Jt,{isShow:e.length>1}),n?Object(a.jsx)("p",{children:"Loading..."}):Object(a.jsx)(Tt,{})]})}}]),n}(c.Component),Kt=Object(j.b)((function(t){return{contacts:G(t),filter:Q(t),loading:B(t),isAuthorized:V(t),token:K(t)}}),(function(t){return{onSetContacts:function(e){return t(A(e))},fetchContacts:function(){return t((function(t){t(d()),f()("/contacts").then((function(e){var n=e.data;return t(m(n))})).catch((function(e){return t(g(e.message))}))}))},fetchCurrentUser:function(){return t((function(t){t(q()),f.a.get("/users/current").then((function(e){var n=e.data;t(P(n))})).catch((function(e){return t(H(e.massage))}))}))}}}))(Zt),Vt={contacts:"/contacts",register:"/register",login:"/login"},Wt=(n(97),n(14)),Yt=n.n(Wt);function $t(t){var e=t.email,n=t.onLogout;return Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{style:{marginRight:"20px"},children:e}),Object(a.jsx)("button",{onClick:n,children:"\u0412\u044b\u0439\u0442\u0438 "})]})}$t.prototype={mail:Yt.a.string,onLogout:Yt.a.func};var te={onLogout:function(t){return function(t){t(D()),f.a.post("/users/logout").then((function(){t(U()),M()})).catch((function(e){return t(I(e.massage))}))}}},ee=Object(j.b)((function(t){return{email:Z(t)}}),te)($t),ne=n(24),ae=n.n(ne);var ce,re,oe,ie,ue,se,be,le,je,he=Object(j.b)((function(t){return{isAuthorized:V(t)}}))((function(t){var e=t.isAuthorized,n=t.location;return Object(a.jsxs)("nav",{className:ae.a.container,children:[Object(a.jsx)("ul",{className:ae.a.list,children:e?Object(a.jsx)("li",{children:Object(a.jsx)(i.b,{to:Vt.contacts,children:"Contacts"})}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("li",{children:Object(a.jsx)(i.b,{to:Vt.register,className:"/register"===n.pathname&&ae.a.active,children:"Register"})}),Object(a.jsx)("li",{children:Object(a.jsx)(i.b,{className:"/login"===n.pathname&&ae.a.active,to:Vt.login,children:"Login"})})]})}),e&&Object(a.jsx)(ee,{className:ae.a.menu})]})})),fe=n(65),Oe=n.n(fe),pe=function(t){Object(b.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={email:"",password:""},t.handleChange=function(e){var n=e.target,a=n.name,c=n.value;t.setState(Object(Y.a)({},a,c))},t.handleSubmit=function(e){e.preventDefault();var n=new FormData(e.target),a={email:n.get("email"),password:n.get("password")};t.props.onLogin(a)},t}return Object(s.a)(n,[{key:"render",value:function(){var t=this.state,e=t.email,n=t.password;return Object(a.jsxs)("form",{onSubmit:this.handleSubmit,className:Oe.a.form,children:[Object(a.jsx)(rt,{label:"Email",value:e,onChange:this.handleChange,type:"email"}),Object(a.jsx)(rt,{label:"Password",value:n,onChange:this.handleChange,type:"password"}),Object(a.jsx)(nt,{type:"submit",text:"\u0412\u043e\u0439\u0442\u0438"})]})}}]),n}(c.Component),de={onLogin:function(t){return function(e){e(L()),f.a.post("/users/login",t).then((function(t){var n=t.data;e(R(n)),J(n.token)})).catch((function(t){return e(T(t.massage))}))}}},me=Object(j.b)(null,de)(pe),ge=n(66),ve=n.n(ge),xe=function(t){Object(b.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={name:"",email:"",password:""},t.handleChange=function(e){var n=e.target,a=n.name,c=n.value;t.setState(Object(Y.a)({},a,c))},t.handleSubmit=function(e){e.preventDefault();var n=new FormData(e.target),a={name:n.get("name"),email:n.get("email"),password:n.get("password")};t.props.onSingUp(a)},t}return Object(s.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.email,c=t.password;return Object(a.jsxs)("form",{onSubmit:this.handleSubmit,className:ve.a.form,children:[Object(a.jsx)(rt,{label:"Name",value:e,onChange:this.handleChange}),Object(a.jsx)(rt,{label:"Email",value:n,type:"email",onChange:this.handleChange}),Object(a.jsx)(rt,{label:"Password",value:c,type:"password",onChange:this.handleChange}),Object(a.jsx)(nt,{text:"\u0412\u043e\u0439\u0442\u0438"})]})}}]),n}(c.Component),_e={onSingUp:function(t){return function(e){e(y()),f.a.post("/users/signup",t).then((function(t){var n=t.data;e(k(n)),J(n.token)})).catch((function(t){return e(N(t.massage))}))}}},we=Object(j.b)(null,_e)(xe),Ce=n(5),Se=function(t){Object(b.a)(n,t);var e=Object(l.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var t=this.props.isAuthorized;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ce.b,{path:Vt.home,component:he}),t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ce.b,{path:Vt.contacts,component:Kt}),Object(a.jsx)(Ce.a,{to:Vt.contacts})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ce.b,{path:Vt.register,component:we}),Object(a.jsx)(Ce.b,{path:Vt.login,component:me}),Object(a.jsx)(Ce.a,{to:Vt.register})]})]})}}]),n}(c.Component),Ae=Object(j.b)((function(t){return{isAuthorized:V(t)}}))(Se),ye=n(67),ke=n(30),Ne=n(9),Le=Object(O.c)("",Object(Y.a)({},p,(function(t,e){return e.payload}))),Re=Object(O.c)([],(ce={},Object(Y.a)(ce,m,(function(t,e){var n=e.payload;return Object(ke.a)(n)})),Object(Y.a)(ce,x,(function(t,e){return[e.payload].concat(Object(ke.a)(t))})),Object(Y.a)(ce,C,(function(t,e){var n=e.payload;return Object(ke.a)(t.filter((function(t){return t.id!==n})))})),ce)),Te=Object(O.c)(!1,(re={},Object(Y.a)(re,d,(function(){return!0})),Object(Y.a)(re,m,(function(){return!1})),Object(Y.a)(re,g,(function(){return!1})),Object(Y.a)(re,v,(function(){return!0})),Object(Y.a)(re,x,(function(){return!1})),Object(Y.a)(re,_,(function(){return!1})),Object(Y.a)(re,w,(function(){return!0})),Object(Y.a)(re,C,(function(){return!1})),Object(Y.a)(re,S,(function(){return!1})),re)),ze=Object(O.c)(null,(oe={},Object(Y.a)(oe,g,(function(t,e){return e.payload})),Object(Y.a)(oe,_,(function(t,e){return e.payload})),Object(Y.a)(oe,S,(function(t,e){return e.payload})),oe)),Ee=Object(Ne.c)({filter:Le,items:Re,loading:Te,error:ze}),Fe=Object(O.c)("",(ie={},Object(Y.a)(ie,R,(function(t,e){return e.payload.token})),Object(Y.a)(ie,k,(function(t,e){return e.payload.token})),Object(Y.a)(ie,U,(function(){return""})),ie)),De=Object(O.c)("",(ue={},Object(Y.a)(ue,k,(function(t,e){return e.payload.user.name})),Object(Y.a)(ue,R,(function(t,e){return e.payload.user.name})),Object(Y.a)(ue,U,(function(){return""})),Object(Y.a)(ue,P,(function(t,e){return e.payload.name})),ue)),Ue=Object(O.c)("",(se={},Object(Y.a)(se,k,(function(t,e){return e.payload.user.email})),Object(Y.a)(se,R,(function(t,e){return e.payload.user.email})),Object(Y.a)(se,U,(function(){return""})),Object(Y.a)(se,P,(function(t,e){return e.payload.email})),se)),Ie=Object(O.c)(!1,(be={},Object(Y.a)(be,E,(function(){return!0})),Object(Y.a)(be,P,(function(){return!0})),Object(Y.a)(be,H,(function(){return!1})),Object(Y.a)(be,R,(function(){return!0})),Object(Y.a)(be,k,(function(){return!0})),Object(Y.a)(be,U,(function(){return!1})),be)),qe=Object(O.c)(!1,(le={},Object(Y.a)(le,L,(function(){return!0})),Object(Y.a)(le,R,(function(){return!1})),Object(Y.a)(le,T,(function(){return!1})),Object(Y.a)(le,y,(function(){return!0})),Object(Y.a)(le,k,(function(){return!1})),Object(Y.a)(le,N,(function(){return!1})),Object(Y.a)(le,D,(function(){return!0})),Object(Y.a)(le,U,(function(){return!1})),Object(Y.a)(le,I,(function(){return!1})),Object(Y.a)(le,q,(function(){return!0})),Object(Y.a)(le,P,(function(){return!1})),Object(Y.a)(le,H,(function(){return!1})),Object(Y.a)(le,z,(function(){return!0})),Object(Y.a)(le,E,(function(){return!1})),Object(Y.a)(le,F,(function(){return!1})),le)),Pe=Object(O.c)(null,(je={},Object(Y.a)(je,N,(function(t,e){return e.payload})),Object(Y.a)(je,T,(function(t,e){return e.payload})),Object(Y.a)(je,I,(function(t,e){return e.payload})),Object(Y.a)(je,F,(function(t,e){return e.payload})),Object(Y.a)(je,H,(function(t,e){return e.payload})),je)),He=Object(Ne.c)({email:Ue,name:De,token:Fe,isAuthorized:Ie,loading:qe,error:Pe}),Je=n(68),Me=n.n(Je),Ge=n(20);f.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var Qe={key:"token",storage:Me.a,whitelist:["token"]},Be=Object(O.a)({reducer:{contacts:Ee,user:Object(Ge.g)(Qe,He)},middleware:Object(O.d)({serializableCheck:{ignoredActions:[Ge.a,Ge.f,Ge.b,Ge.c,Ge.d,Ge.e]}}),devTools:!1}),Xe={store:Be,persistor:Object(Ge.h)(Be)};n(121);o.a.render(Object(a.jsx)(j.a,{store:Xe.store,children:Object(a.jsx)(ye.a,{persistor:Xe.persistor,children:Object(a.jsx)(i.a,{children:Object(a.jsx)(Ae,{})})})}),document.getElementById("root"))},24:function(t,e,n){t.exports={container:"Header_container__2utvv",list:"Header_list__1AbSF",active:"Header_active__i8pN3"}},29:function(t,e,n){t.exports={container:"Input_container__LScIj",label:"Input_label__2qQjz",input:"Input_input__1UbWX",placeholderReverse:"Input_placeholderReverse__25nfk",placeholder:"Input_placeholder__36mhs"}},53:function(t,e,n){t.exports={button:"ButtonSubmit_button__1Z37O"}},54:function(t,e,n){t.exports={container:"Notification_container__2DITL"}},55:function(t,e,n){t.exports={appear:"withTransitionLeftAnimation_appear__1vCO8",appearActive:"withTransitionLeftAnimation_appearActive__2-sPG",enter:"withTransitionLeftAnimation_enter__2txMR",enterActive:"withTransitionLeftAnimation_enterActive__2MLbG",exit:"withTransitionLeftAnimation_exit__3H57Q",exitActive:"withTransitionLeftAnimation_exitActive__1LciV"}},56:function(t,e,n){t.exports={appear:"withTransitionRightAnimation_appear__19OEe",appearActive:"withTransitionRightAnimation_appearActive__3QJmX",enter:"withTransitionRightAnimation_enter__1eCxd",enterActive:"withTransitionRightAnimation_enterActive__1iFjb",exit:"withTransitionRightAnimation_exit__2chRK",exitActive:"withTransitionRightAnimation_exitActive__17MGQ"}},57:function(t,e,n){t.exports={container:"ContactForm_container__pJnHn"}},58:function(t,e,n){t.exports={button:"ButtonDelete_button__1Y3iG"}},59:function(t,e,n){t.exports={item:"ContactItem_item__2lJb8"}},60:function(t,e,n){t.exports={container:"ContactList_container__1RaS8"}},61:function(t,e,n){t.exports={enter:"withScaleAnimation_enter__2pH0L",enterActive:"withScaleAnimation_enterActive__3697N",exit:"withScaleAnimation_exit__3E6h3",exitActive:"withScaleAnimation_exitActive__2Ac4b"}},62:function(t,e,n){t.exports={container:"Filter_container__25S4f"}},63:function(t,e,n){t.exports={color:"Logo_color__3wS-O"}},64:function(t,e,n){t.exports={container:"PhonebookPage_container__2i89U"}},65:function(t,e,n){t.exports={form:"Login_form__pL4P3"}},66:function(t,e,n){t.exports={form:"Registe_form__ZqpgE"}}},[[122,1,2]]]);
//# sourceMappingURL=main.5d15d84a.chunk.js.map